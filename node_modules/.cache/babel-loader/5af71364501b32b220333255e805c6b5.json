{"ast":null,"code":"import { fromFetch } from \"rxjs/fetch\";\nimport { switchMap } from \"rxjs/operators\";\nimport { throwError } from \"rxjs\";\nimport { ApiError } from \"./errors\";\n/**\n * @typeparam T - The result type\n * @throws ApiError\n */\n\nvar observableFetch = function observableFetch() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return fromFetch.apply(undefined, args).pipe(switchMap(function (response) {\n    return !response.ok ? throwError(new ApiError(response)) : response.json();\n  }));\n};\n\nexport default observableFetch;","map":{"version":3,"sources":["/home/dcestari/Documents/projects/react/react-pokeapi/src/redux/observableFetch.ts"],"names":["fromFetch","switchMap","throwError","ApiError","observableFetch","args","apply","undefined","pipe","response","ok","json"],"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,SAASC,QAAT,QAAyB,UAAzB;AAEA;;;;;AAIA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,oCAAOC,IAAP;AAAOA,IAAAA,IAAP;AAAA;;AAAA,SACtBL,SAAS,CACNM,KADH,CACSC,SADT,EACoBF,IADpB,EAEGG,IAFH,CAGIP,SAAS,CAAC,UAAAQ,QAAQ;AAAA,WAChB,CAACA,QAAQ,CAACC,EAAV,GACIR,UAAU,CAAC,IAAIC,QAAJ,CAAaM,QAAb,CAAD,CADd,GAEKA,QAAQ,CAACE,IAAT,EAHW;AAAA,GAAT,CAHb,CADsB;AAAA,CAAxB;;AAWA,eAAeP,eAAf","sourcesContent":["import { fromFetch } from \"rxjs/fetch\";\nimport { switchMap } from \"rxjs/operators\";\nimport { throwError } from \"rxjs\";\nimport { ApiError } from \"./errors\";\n\n/**\n * @typeparam T - The result type\n * @throws ApiError\n */\nconst observableFetch = <T>(...args: Parameters<typeof fromFetch>) =>\n  fromFetch\n    .apply(undefined, args)\n    .pipe(\n      switchMap(response =>\n        !response.ok\n          ? throwError(new ApiError(response))\n          : (response.json() as Promise<T>)\n      )\n    );\n\nexport default observableFetch;\n"]},"metadata":{},"sourceType":"module"}