{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport pokemon from \"pokemon\";\nvar indexedNames = pokemon.all(\"en\").reduce(function (acc, cur) {\n  var key = cur[0].toLowerCase();\n  if (!acc[key]) acc[key] = [];\n  acc[key].push(cur);\n  return acc;\n}, {});\nexport default createSlice({\n  name: \"filteredPokemonNames\",\n  initialState: {\n    name: \"\",\n    suggestions: []\n  },\n  reducers: {\n    updateSuggestions: function updateSuggestions(state, action) {\n      var _action$payload;\n\n      if ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.length) {\n        var _indexedNames$action$;\n\n        state.name = action.payload;\n        state.suggestions = ((_indexedNames$action$ = indexedNames[action.payload[0].toLowerCase()]) === null || _indexedNames$action$ === void 0 ? void 0 : _indexedNames$action$.filter(function (p) {\n          return p.toLowerCase().startsWith(action.payload.toLowerCase());\n        }).sort()) || [];\n      } else {\n        state.name = \"\";\n        state.suggestions = [];\n      }\n    }\n  }\n});","map":{"version":3,"sources":["/home/dcestari/Documents/projects/react/react-pokeapi/src/redux/filteredPokemonNames/slice.ts"],"names":["createSlice","pokemon","indexedNames","all","reduce","acc","cur","key","toLowerCase","push","name","initialState","suggestions","reducers","updateSuggestions","state","action","payload","length","filter","p","startsWith","sort"],"mappings":"AAAA,SAASA,WAAT,QAA2C,kBAA3C;AACA,OAAOC,OAAP,MAAoB,SAApB;AAEA,IAAMC,YAAY,GAAGD,OAAO,CAACE,GAAR,CAAY,IAAZ,EAAkBC,MAAlB,CAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1D,MAAMC,GAAG,GAAGD,GAAG,CAAC,CAAD,CAAH,CAAOE,WAAP,EAAZ;AACA,MAAI,CAACH,GAAG,CAACE,GAAD,CAAR,EAAeF,GAAG,CAACE,GAAD,CAAH,GAAW,EAAX;AACfF,EAAAA,GAAG,CAACE,GAAD,CAAH,CAAUE,IAAV,CAAeH,GAAf;AACA,SAAOD,GAAP;AACD,CALoB,EAKlB,EALkB,CAArB;AAOA,eAAeL,WAAW,CAAC;AACzBU,EAAAA,IAAI,EAAE,sBADmB;AAEzBC,EAAAA,YAAY,EAAE;AACZD,IAAAA,IAAI,EAAE,EADM;AAEZE,IAAAA,WAAW,EAAE;AAFD,GAFW;AAMzBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,iBAAiB,EAAE,2BAACC,KAAD,EAAQC,MAAR,EAAsD;AAAA;;AACvE,6BAAIA,MAAM,CAACC,OAAX,oDAAI,gBAAgBC,MAApB,EAA4B;AAAA;;AAC1BH,QAAAA,KAAK,CAACL,IAAN,GAAaM,MAAM,CAACC,OAApB;AACAF,QAAAA,KAAK,CAACH,WAAN,GACE,0BAAAV,YAAY,CAACc,MAAM,CAACC,OAAP,CAAe,CAAf,EAAkBT,WAAlB,EAAD,CAAZ,gFACIW,MADJ,CACW,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACZ,WAAF,GAAgBa,UAAhB,CAA2BL,MAAM,CAACC,OAAP,CAAgBT,WAAhB,EAA3B,CAAJ;AAAA,SADZ,EAEGc,IAFH,OAEa,EAHf;AAID,OAND,MAMO;AACLP,QAAAA,KAAK,CAACL,IAAN,GAAa,EAAb;AACAK,QAAAA,KAAK,CAACH,WAAN,GAAoB,EAApB;AACD;AACF;AAZO;AANe,CAAD,CAA1B","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport pokemon from \"pokemon\";\n\nconst indexedNames = pokemon.all(\"en\").reduce((acc, cur) => {\n  const key = cur[0].toLowerCase();\n  if (!acc[key]) acc[key] = [];\n  acc[key]!.push(cur);\n  return acc;\n}, {} as { [key: string]: string[] | undefined });\n\nexport default createSlice({\n  name: \"filteredPokemonNames\",\n  initialState: {\n    name: \"\",\n    suggestions: [] as string[]\n  },\n  reducers: {\n    updateSuggestions: (state, action: PayloadAction<string | undefined>) => {\n      if (action.payload?.length) {\n        state.name = action.payload;\n        state.suggestions =\n          indexedNames[action.payload[0].toLowerCase()]\n            ?.filter(p => p.toLowerCase().startsWith(action.payload!.toLowerCase()))\n            .sort() || [];\n      } else {\n        state.name = \"\";\n        state.suggestions = [];\n      }\n    }\n  }\n});\n"]},"metadata":{},"sourceType":"module"}