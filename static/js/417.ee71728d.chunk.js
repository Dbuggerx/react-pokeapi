"use strict";(self.webpackChunkreact_pokeapi=self.webpackChunkreact_pokeapi||[]).push([[417],{7417:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var o={};n.r(o),n.d(o,{fetchPokemonSpecies:function(){return g},getPokemonDetails:function(){return f}});var r=n(6871),c=n(2791),i=n(3153),s=n(1413),a=n(6916),l=n(8785),d=n(5861),u=n(7757),m=n.n(u),p=n(4432),h=n(1063),f=(0,l.hg)("pokemonDetails/getPokemonDetails",function(){var e=(0,d.Z)(m().mark((function e(t,n){var o,r,c,i,s,a,l,d,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.dispatch,r=n.getState,c=n.signal,i=n.rejectWithValue,s=o((0,h.fetchPokemonInfo)(t)),c.addEventListener("abort",(function(){s.abort()})),e.next=5,s;case 5:if(a=r(),l=a.pokemonPage.info,d=(0,p.G0)(l,t.pokemonName)){e.next=9;break}return e.abrupt("return",i("species not found"));case 9:u=o(g({url:d})),c.addEventListener("abort",(function(){u.abort()}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=(0,l.hg)("pokemonDetails/fetchPokemonSpecies",function(){var e=(0,d.Z)(m().mark((function e(t,n){var o,r,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.signal,r=n.rejectWithValue,e.next=3,fetch(t.url,{signal:o});case 3:if((c=e.sent).ok){e.next=10;break}return e.t0=r,e.next=8,c.text();case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:return e.next=12,c.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{condition:function(e,t){var n=t.getState,o=(0,p.Hz)(e.url);return!o||!n().pokemonDetails.species.data.ids.includes(Number(o))&&void 0}}),y=(0,l.HF)({selectId:function(e){return e.id},sortComparer:function(e,t){return e.order&&t.order?e.order-t.order:0}}),v={error:void 0,species:{loading:!0,error:!1,data:y.getInitialState()}},k=(0,l.oM)({name:"pokemonDetails",initialState:v,reducers:{},extraReducers:function(e){e.addCase(f.rejected,(function(e,t){e.error=t.payload})).addCase(g.pending,(function(e){e.error=void 0,e.species.loading=!0,e.species.error=!1})).addCase(g.rejected,(function(e,t){e.error=void 0,e.species.loading=!1,t.meta.aborted||(e.species.error=!0)})).addCase(g.fulfilled,(function(e,t){e.error=void 0,e.species.loading=!1,e.species.error=!1,y.setOne(e.species.data,t.payload)}))}}),x=k,b=(0,s.Z)((0,s.Z)({},k.actions),o),P=function(e){return e.pokemonDetails},j=(0,a.P1)(P,(function(e){return e.species})),E=(0,a.P1)(j,(function(e){return e.data})),_={sliceAvailable:(0,a.P1)(P,(function(e){return!!e})),error:(0,a.P1)(P,(function(e){return e.error})),species:(0,s.Z)((0,s.Z)({},y.getSelectors(E)),{},{isLoading:(0,a.P1)(j,(function(e){return e.loading})),isError:(0,a.P1)(j,(function(e){return e.error}))})},N=n(6360);var S=n(4991),C=n(184);var w=n(1258),I=n(5430),Z=n(6037);function D(){var e;null===(e=document.querySelector("meta[name=theme-color]"))||void 0===e||e.setAttribute("content",getComputedStyle(document.documentElement).getPropertyValue("--accent-color"))}function L(e){var t;return t=e.color,c.useEffect((function(){if(t){var e=getComputedStyle(document.documentElement).getPropertyValue("--accent-color"),n=getComputedStyle(document.documentElement).getPropertyValue("--accent-text-color"),o=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-highlight");switch(t){case"black":document.documentElement.style.setProperty("--accent-text-color","white"),document.documentElement.style.setProperty("--accent-color","black"),document.documentElement.style.setProperty("--accent-color-highlight","grey");break;case"blue":document.documentElement.style.setProperty("--accent-color","#3a86ff"),document.documentElement.style.setProperty("--accent-color-highlight","#2366D1");break;case"brown":document.documentElement.style.setProperty("--accent-color","#a12727"),document.documentElement.style.setProperty("--accent-color-highlight","#831313");break;case"gray":document.documentElement.style.setProperty("--accent-color","#525252"),document.documentElement.style.setProperty("--accent-color-highlight","#362d2d");break;case"green":document.documentElement.style.setProperty("--accent-color","#77c360"),document.documentElement.style.setProperty("--accent-color-highlight","#498e35");break;case"pink":document.documentElement.style.setProperty("--accent-color","#ff8196"),document.documentElement.style.setProperty("--accent-color-highlight","#cc4c61");break;case"purple":document.documentElement.style.setProperty("--accent-color","#800080"),document.documentElement.style.setProperty("--accent-color-highlight","#620b62");break;case"red":document.documentElement.style.setProperty("--accent-color","#f53e2a"),document.documentElement.style.setProperty("--accent-color-highlight","#b72a1a");break;case"white":document.documentElement.style.setProperty("--accent-text-color","black"),document.documentElement.style.setProperty("--accent-color","white"),document.documentElement.style.setProperty("--accent-color-highlight","grey");break;case"yellow":document.documentElement.style.setProperty("--accent-text-color","#695f00"),document.documentElement.style.setProperty("--accent-color","#fffb10"),document.documentElement.style.setProperty("--accent-color-highlight","#d1cc3e")}return D(),function(){document.documentElement.style.setProperty("--accent-text-color",n),document.documentElement.style.setProperty("--accent-color",e),document.documentElement.style.setProperty("--accent-color-highlight",o),D()}}}),[t]),(0,C.jsx)("article",{className:"pokemon-details",children:(0,C.jsxs)("article",{className:"pokemon-details__content",children:[(0,C.jsxs)("header",{className:"pokemon-details__header",children:[(0,C.jsx)("h1",{className:"pokemon-details__name",children:e.pokemonName}),(0,C.jsxs)("aside",{title:"Pokemon ID",children:["#",e.pokemonId]})]}),(0,C.jsx)("section",{className:"pokemon-details__images",children:e.images}),(0,C.jsx)("section",{className:"pokemon-details__types",children:e.types}),(0,C.jsxs)("section",{className:"pokemon-details__description",children:[(0,C.jsx)("div",{className:"pokemon-details__section-title",children:e.descriptionTitle}),(0,C.jsx)("div",{className:"pokemon-details__descrition-text",children:e.description})]}),(0,C.jsxs)("section",{className:"pokemon-details__profile",children:[(0,C.jsx)("div",{className:"pokemon-details__section-title",children:"Profile"}),e.profile]}),(0,C.jsxs)("section",{className:"pokemon-details__abilities",children:[(0,C.jsx)("div",{className:"pokemon-details__section-title",children:"Abilities"}),e.abilities]}),(0,C.jsxs)("section",{className:"pokemon-details__stats",children:[(0,C.jsx)("div",{className:"pokemon-details__section-title",children:"Stats"}),e.stats]}),(0,C.jsx)("div",{className:"pokemon-details__background",style:{backgroundImage:"url(".concat(e.backgroundImageUrl,")")}})]})})}var V=function(e,t,n){return function(o){var r=(0,i.C)(n),a=(0,S.S)();return c.useEffect((function(){r||a(t)}),[a,r]),r?(0,C.jsx)(e,(0,s.Z)({},o)):null}}((function(){var e,t,n,o,s,a,l,d,u,m=function(e){var t,n=(0,i.T)(),o=(0,i.C)(_.error),r=c.useMemo((function(){return N.wl.makeInfoSelectors()}),[]),s=(0,i.C)((function(t){return e?r.speciesId(t,e):void 0})),a=(0,i.C)((function(e){return s?_.species.selectById(e,s):void 0})),l=(0,i.C)(_.species.isLoading),d=(0,i.C)(_.species.isError),u=(0,i.C)((function(t){return e?r.selectById(t,e):void 0})),m=(null===u||void 0===u||null===(t=u.data)||void 0===t?void 0:t.sprites)&&Object.entries(u.data.sprites).filter((function(e){return"string"===typeof e[1]}));return c.useEffect((function(){if(e){var t=n(b.getPokemonDetails({pokemonName:e}));return function(){t.abort()}}}),[n,e]),{error:o,isSpeciesLoading:l,isSpeciesError:d,pokemonInfo:u,images:m,species:a}}((0,r.UO)().pokemonName),p=m.error,h=m.isSpeciesLoading,f=m.isSpeciesError,g=m.images,y=m.pokemonInfo,v=m.species;return"species not found"===p?(0,C.jsx)(w.Z,{message:"Not Found!"}):"unexpected error"===p||f?(0,C.jsx)(w.Z,{message:"Error!"}):h||null===y||void 0===y||!y.data?(0,C.jsx)(I.Z,{}):(0,C.jsx)(L,{backgroundImageUrl:null===y||void 0===y||null===(e=y.data)||void 0===e||null===(t=e.sprites)||void 0===t||null===(n=t.other)||void 0===n||null===(o=n.dream_world)||void 0===o?void 0:o.front_default,pokemonName:y.data.name,pokemonId:y.data.id||0,images:(0,C.jsx)(C.Fragment,{children:null===g||void 0===g?void 0:g.map((function(e){return(0,C.jsx)("img",{src:e[1],alt:e[0]},e[0])}))}),color:null===v||void 0===v?void 0:v.color.name,types:(0,C.jsx)(C.Fragment,{children:null===(s=y.data.types)||void 0===s?void 0:s.map((function(e){return(0,C.jsx)(Z.Z,{pokemonType:e.type.name},e.type.name)}))}),descriptionTitle:null===v||void 0===v||null===(a=v.genera.find((function(e){return"en"===e.language.name})))||void 0===a?void 0:a.genus,description:(0,C.jsx)(C.Fragment,{children:v&&Array.from(v.flavor_text_entries.filter((function(e){return"en"===e.language.name})).map((function(e){return e.flavor_text.replace(/\r?\n|\r|\u000c/gm," ")})).reduce((function(e,t){return e.set(t.toLowerCase().substring(0,10),t)}),new Map).values()).reduce((function(e,t,n){return e.push((0,C.jsxs)("span",{children:[e.length>0&&(0,C.jsx)("br",{}),t]},n)),e}),[])}),profile:(0,C.jsxs)("ul",{children:[y.data.height?(0,C.jsxs)("li",{children:["Height: ",y.data.height/10,"m"]}):null,y.data.weight?(0,C.jsxs)("li",{children:["Weight: ",y.data.weight/10,"kg"]}):null,(null===v||void 0===v?void 0:v.shape.name)&&(0,C.jsxs)("li",{children:["Shape: ",null===v||void 0===v?void 0:v.shape.name]}),(null===v||void 0===v||null===(l=v.habitat)||void 0===l?void 0:l.name)&&(0,C.jsxs)("li",{children:["Habitat: ",null===v||void 0===v?void 0:v.habitat.name]})]}),abilities:(0,C.jsx)("ul",{children:null===(d=y.data.abilities)||void 0===d?void 0:d.map((function(e){return(0,C.jsx)("li",{title:e.is_hidden?"Hidden ability":"Normal ability",children:e.ability.name},e.ability.name)}))}),stats:(0,C.jsx)("ul",{children:null===(u=y.data.stats)||void 0===u?void 0:u.map((function(e){return(0,C.jsxs)("li",{children:[e.stat.name,": ",e.base_stat]},e.stat.name)}))})})}),x,_.sliceAvailable)}}]);
//# sourceMappingURL=417.ee71728d.chunk.js.map