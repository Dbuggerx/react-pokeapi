"use strict";(self.webpackChunkreact_pokeapi=self.webpackChunkreact_pokeapi||[]).push([[792],{792:(e,t,o)=>{o.r(t),o.d(t,{default:()=>I});var n={};o.r(n),o.d(n,{fetchPokemonSpecies:()=>u,getPokemonDetails:()=>m});var s=o(889),r=o(291),c=o(109),a=o(753),l=o(590),i=o(906),d=o(111);const m=(0,l.hg)("pokemonDetails/getPokemonDetails",(async(e,t)=>{let{dispatch:o,getState:n,signal:s,rejectWithValue:r}=t;const c=o((0,d.fetchPokemonInfo)(e));s.addEventListener("abort",(()=>{c.abort()})),await c;const{pokemonPage:{info:a}}=n(),l=(0,i.G0)(a,e.pokemonName);if(!l)return r("species not found");const m=o(u({url:l}));s.addEventListener("abort",(()=>{m.abort()}))})),u=(0,l.hg)("pokemonDetails/fetchPokemonSpecies",(async(e,t)=>{let{signal:o,rejectWithValue:n}=t;const s=await fetch(e.url,{signal:o});return s.ok?await s.json():n(await s.text())}),{condition:(e,t)=>{let{getState:o}=t;const n=(0,i.Hz)(e.url);if(!n)return!0;const{pokemonDetails:{species:{data:s}}}=o();return!s.ids.includes(Number(n))&&void 0}}),p=(0,l.HF)({selectId:e=>e.id,sortComparer:(e,t)=>e.order&&t.order?e.order-t.order:0}),h={error:void 0,species:{loading:!0,error:!1,data:p.getInitialState()}},g=(0,l.oM)({name:"pokemonDetails",initialState:h,reducers:{},extraReducers:e=>{e.addCase(m.rejected,((e,t)=>{e.error=t.payload})).addCase(u.pending,(e=>{e.error=void 0,e.species.loading=!0,e.species.error=!1})).addCase(u.rejected,((e,t)=>{e.error=void 0,e.species.loading=!1,t.meta.aborted||(e.species.error=!0)})).addCase(u.fulfilled,((e,t)=>{e.error=void 0,e.species.loading=!1,e.species.error=!1,p.setOne(e.species.data,t.payload)}))}}),y=g,k={...g.actions,...n},v=e=>e.pokemonDetails,f=(0,a.P1)(v,(e=>e.species)),b=(0,a.P1)(f,(e=>e.data)),x={sliceAvailable:(0,a.P1)(v,(e=>!!e)),error:(0,a.P1)(v,(e=>e.error)),species:{...p.getSelectors(b),isLoading:(0,a.P1)(f,(e=>e.loading)),isError:(0,a.P1)(f,(e=>e.error))}};var P=o(979);var j=o(962),E=o(574);var _=o(654),N=o(552),S=o(504);function w(){var e;null===(e=document.querySelector("meta[name=theme-color]"))||void 0===e||e.setAttribute("content",getComputedStyle(document.documentElement).getPropertyValue("--accent-color"))}function C(e){var t;return t=e.color,r.useEffect((()=>{if(!t)return;const e=getComputedStyle(document.documentElement).getPropertyValue("--accent-color"),o=getComputedStyle(document.documentElement).getPropertyValue("--accent-text-color"),n=getComputedStyle(document.documentElement).getPropertyValue("--accent-color-highlight");switch(t){case"black":document.documentElement.style.setProperty("--accent-text-color","white"),document.documentElement.style.setProperty("--accent-color","black"),document.documentElement.style.setProperty("--accent-color-highlight","grey");break;case"blue":document.documentElement.style.setProperty("--accent-color","#3a86ff"),document.documentElement.style.setProperty("--accent-color-highlight","#2366D1");break;case"brown":document.documentElement.style.setProperty("--accent-color","#a12727"),document.documentElement.style.setProperty("--accent-color-highlight","#831313");break;case"gray":document.documentElement.style.setProperty("--accent-color","#525252"),document.documentElement.style.setProperty("--accent-color-highlight","#362d2d");break;case"green":document.documentElement.style.setProperty("--accent-color","#77c360"),document.documentElement.style.setProperty("--accent-color-highlight","#498e35");break;case"pink":document.documentElement.style.setProperty("--accent-color","#ff8196"),document.documentElement.style.setProperty("--accent-color-highlight","#cc4c61");break;case"purple":document.documentElement.style.setProperty("--accent-color","#800080"),document.documentElement.style.setProperty("--accent-color-highlight","#620b62");break;case"red":document.documentElement.style.setProperty("--accent-color","#f53e2a"),document.documentElement.style.setProperty("--accent-color-highlight","#b72a1a");break;case"white":document.documentElement.style.setProperty("--accent-text-color","black"),document.documentElement.style.setProperty("--accent-color","white"),document.documentElement.style.setProperty("--accent-color-highlight","grey");break;case"yellow":document.documentElement.style.setProperty("--accent-text-color","#695f00"),document.documentElement.style.setProperty("--accent-color","#fffb10"),document.documentElement.style.setProperty("--accent-color-highlight","#d1cc3e")}return w(),()=>{document.documentElement.style.setProperty("--accent-text-color",o),document.documentElement.style.setProperty("--accent-color",e),document.documentElement.style.setProperty("--accent-color-highlight",n),w()}}),[t]),(0,E.jsx)("article",{className:"pokemon-details",children:(0,E.jsxs)("article",{className:"pokemon-details__content",children:[(0,E.jsxs)("header",{className:"pokemon-details__header",children:[(0,E.jsx)("h1",{className:"pokemon-details__name",children:e.pokemonName}),(0,E.jsxs)("aside",{title:"Pokemon ID",children:["#",e.pokemonId]})]}),(0,E.jsx)("section",{className:"pokemon-details__images",children:e.images}),(0,E.jsx)("section",{className:"pokemon-details__types",children:e.types}),(0,E.jsxs)("section",{className:"pokemon-details__description",children:[(0,E.jsx)("div",{className:"pokemon-details__section-title",children:e.descriptionTitle}),(0,E.jsx)("div",{className:"pokemon-details__descrition-text",children:e.description})]}),(0,E.jsxs)("section",{className:"pokemon-details__profile",children:[(0,E.jsx)("div",{className:"pokemon-details__section-title",children:"Profile"}),e.profile]}),(0,E.jsxs)("section",{className:"pokemon-details__abilities",children:[(0,E.jsx)("div",{className:"pokemon-details__section-title",children:"Abilities"}),e.abilities]}),(0,E.jsxs)("section",{className:"pokemon-details__stats",children:[(0,E.jsx)("div",{className:"pokemon-details__section-title",children:"Stats"}),e.stats]}),(0,E.jsx)("div",{className:"pokemon-details__background",style:{backgroundImage:e.backgroundImageUrl?"url(".concat(e.backgroundImageUrl,")"):void 0}})]})})}const I=function(e,t){return function(o){const n=(0,j.S)(),[s,c]=r.useState(!1);return r.useEffect((()=>{s||(n(t),c(!0))}),[n,s]),s?(0,E.jsx)(e,{...o}):null}}((function(){var e,t,o,n,a,l,i,d,m;const{pokemonName:u}=(0,s.UO)(),{error:p,isSpeciesLoading:h,isSpeciesError:g,images:y,pokemonInfo:v,species:f}=function(e){var t;const o=(0,c.T)(),n=(0,c.C)(x.error),s=r.useMemo((()=>P.wl.makeInfoSelectors()),[]),a=(0,c.C)((t=>e?s.speciesId(t,e):void 0)),l=(0,c.C)((e=>a?x.species.selectById(e,a):void 0)),i=(0,c.C)(x.species.isLoading),d=(0,c.C)(x.species.isError),m=(0,c.C)((t=>e?s.selectById(t,e):void 0)),u=(null===m||void 0===m||null===(t=m.data)||void 0===t?void 0:t.sprites)&&Object.entries(m.data.sprites).filter((e=>"string"===typeof e[1]));return r.useEffect((function(){if(!e)return;const t=o(k.getPokemonDetails({pokemonName:e}));return()=>{t.abort()}}),[o,e]),{error:n,isSpeciesLoading:i,isSpeciesError:d,pokemonInfo:m,images:u,species:l}}(u);return"species not found"===p?(0,E.jsx)(_.Z,{message:"Not Found!"}):"unexpected error"===p||g?(0,E.jsx)(_.Z,{message:"Error!"}):h||null!==v&&void 0!==v&&v.loading||null===v||void 0===v||!v.data?(0,E.jsx)(N.Z,{}):(0,E.jsx)(C,{backgroundImageUrl:null===v||void 0===v||null===(e=v.data)||void 0===e||null===(t=e.sprites)||void 0===t||null===(o=t.other)||void 0===o||null===(n=o.dream_world)||void 0===n?void 0:n.front_default,pokemonName:v.data.name,pokemonId:v.data.id||0,images:(0,E.jsx)(E.Fragment,{children:null===y||void 0===y?void 0:y.map((e=>(0,E.jsx)("img",{src:e[1],alt:e[0]},e[0])))}),color:null===f||void 0===f?void 0:f.color.name,types:(0,E.jsx)(E.Fragment,{children:null===(a=v.data.types)||void 0===a?void 0:a.map((e=>(0,E.jsx)(S.Z,{pokemonType:e.type.name},e.type.name)))}),descriptionTitle:null===f||void 0===f||null===(l=f.genera.find((e=>"en"===e.language.name)))||void 0===l?void 0:l.genus,description:(0,E.jsx)(E.Fragment,{children:f&&Array.from(f.flavor_text_entries.filter((e=>"en"===e.language.name)).map((e=>e.flavor_text.replace(/\r?\n|\r|\u000c/gm," "))).reduce(((e,t)=>e.set(t.toLowerCase().substring(0,10),t)),new Map).values()).reduce(((e,t,o)=>(e.push((0,E.jsxs)("span",{children:[e.length>0&&(0,E.jsx)("br",{}),t]},o)),e)),[])}),profile:(0,E.jsxs)("ul",{children:[v.data.height?(0,E.jsxs)("li",{children:["Height: ",v.data.height/10,"m"]}):null,v.data.weight?(0,E.jsxs)("li",{children:["Weight: ",v.data.weight/10,"kg"]}):null,(null===f||void 0===f?void 0:f.shape.name)&&(0,E.jsxs)("li",{children:["Shape: ",null===f||void 0===f?void 0:f.shape.name]}),(null===f||void 0===f||null===(i=f.habitat)||void 0===i?void 0:i.name)&&(0,E.jsxs)("li",{children:["Habitat: ",null===f||void 0===f?void 0:f.habitat.name]})]}),abilities:(0,E.jsx)("ul",{children:null===(d=v.data.abilities)||void 0===d?void 0:d.map((e=>(0,E.jsx)("li",{title:e.is_hidden?"Hidden ability":"Normal ability",children:e.ability.name},e.ability.name)))}),stats:(0,E.jsx)("ul",{children:null===(m=v.data.stats)||void 0===m?void 0:m.map((e=>(0,E.jsxs)("li",{children:[e.stat.name,": ",e.base_stat]},e.stat.name)))})})}),y)}}]);
//# sourceMappingURL=792.7001a051.chunk.js.map